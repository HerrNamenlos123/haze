
namespace ffi {
    extern C noemit struct hzstd_env_get_result_t {
        found: bool;
        value: str;
    };

    extern C noemit hzstd_env_get(allocator: Allocator, name: str): inline hzstd_env_get_result_t :: final;
}

namespace env {
    export get(name: str): str | none {
        let result = ffi.hzstd_env_get(Alloc.heap(), name);
        if result.found {
            return result.value;
        }
        return none;
    }
}